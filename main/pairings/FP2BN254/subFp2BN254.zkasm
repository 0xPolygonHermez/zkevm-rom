;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;; addFp2BN254:
;;             in: (A + B·u), (C + D·u)
;;             out: E = A - C (mod BN254_P)
;;                  C = B - D (mod BN254_P)
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

VAR GLOBAL subFp2_tmp

; TODO: This is not sound, but correct
subFp2BN254:
        ${fp2BN254sub(A,C)} => E
        ${fp2BN254sub(B,D)}       :MSTORE(subFp2_tmp)
        
        $ => C                           :MLOAD(subFp2_tmp),RETURN