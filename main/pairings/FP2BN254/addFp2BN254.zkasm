;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;
;; addFp2BN254:
;;             E = A + C (mod BN254_P)
;;             C = B + D (mod BN254_P)
;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

VAR GLOBAL addFp2_tmp

; TODO: This is not sound, but correct
addFp2BN254:
        ${(A+C) % const.BN254_P} => E
        ${(B+D) % const.BN254_P}       :MSTORE(addFp2_tmp)
        
        $ => C                           :MLOAD(addFp2_tmp),RETURN